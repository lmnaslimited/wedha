# LENS Hands-On

#### **Task 1: Adding a Custom Field to an Existing DocType**

1.  Navigate to **Settings** > **Customize Form**.
2.  In the "DocType" field, search and select the **Sales Order** DocType.
3.  Add a new field:
    -   **Label**: Delivery Priority
    -   **Fieldname**: delivery_priority
    -   **Fieldtype**: Select
    -   **Options**: High, \nMedium, \nLow (each option on a new line)
4.  Save and then navigate to **Sales Order** to verify the custom field is present.
5.  Create a new Sales Order and test the field by selecting a priority level.

#### **Task 2: Adding a Validation to a Custom Field**

1.  Go to **Custom Script** and create a new script for the **Sales Order**.
2.  Add the following code to ensure that only high-priority orders can exceed a value of 10,000:
   

 ```javascript     
 `
    frappe.ui.form.on('Sales Order', {
       validate: function(frm) {
          if (frm.doc.delivery_priority == 'High' && frm.doc.grand_total <= 10000) {
             frappe.throw(__('High priority orders must exceed 10,000.'));
          }
       }
    
   ```

#### **Task 3: Viewing Database Mapping for a Field**

1.  Open **Sales Order** and create a new order.
2.  Open the **MariaDB Console** or use **Workbench**.
3.  Run the query to view the table structure and map fields:
```sql
DESC `tabSales Order`;
```
4. Locate the `delivery_priority` field that you added earlier.
5. Now insert data into the Sales Order:
```sql
SELECT * FROM `tabSales Order`;
```
6. Confirm that the data entered into the field is properly mapped in the database.

#### **Task 4: Explore Link Field Mapping**

1.  In ERPNext, open **Sales Order** and view the **Customer** field (this is a Link field).
2.  In MariaDB, find how this field maps to the **Customer** DocType:
```sql
SELECT customer FROM `tabSales Order`;
```
3. Now query the **Customer** table:
```sql
SELECT * FROM `tabCustomer` WHERE name = '<Customer Name>';
```
Note how the **Link** field connects both DocTypes.


<!--stackedit_data:
eyJoaXN0b3J5IjpbLTY1NjI2MTIsMTI1MDUyMzQ2NiwtMjAzMT
c1MTEzOSwxNzY2MzY1NjU2LC0xMjk3MDU4NDA1XX0=
-->