# Web Form in LENS

A **Web Form** is a custom form that captures data from external users and stores it within LENS. It is linked to a particular DocType, which defines where the data is saved. Web Forms can be used to collect information like leads, customer feedback, job applications, event registrations, and more.

## Key Features

-   Public-facing (can be accessed by users who are not logged into LENS).
-   Linked to a DocType, allowing direct insertion of form submissions into the LENS database.
-   Customizable fields, layout, and validations.
-   Form responses can trigger workflows or notifications within LENS.

## Create a Web Form

#### Step 1: Navigate to the Web Form List

1.  Go to the **Website** module.
2.  Under **Forms**, click on **Web Form**.

#### Step 2: Create a New Web Form

1.  Click on **New** to create a new Web Form.
2.  Fill in the following fields:
    -   **Title**: The name of the Web Form.
    -   **DocType**: Select the DocType where the data will be saved (e.g., Lead, Customer, Job Application).
    -   **Is Standard**: If unchecked, the form is customizable. Leave it unchecked for creating custom forms.
    -   **Allow Edit**: Check this box if users are allowed to edit the data they have submitted.
    -   **Login Required**: Check this box if you want the form to be accessed by logged-in users only.

#### Step 3: Add Fields

1.  Under the **Fields** section, click **Add Row** to insert fields into the form.
2.  Select the fields from the linked DocType that you want to appear on the form.
    -   For example, if you are creating a Lead form, you can include fields like **Lead Name**, **Email**, **Phone Number**, etc.
3.  You can also configure field properties, such as **mandatory fields**, **read-only fields**, and **default values**.

#### Step 4: Configure Form Behavior

1.  **Success Message**: Add a message that will be shown after a successful form submission (e.g., "Thank you for submitting!").
2.  **Allow Attachments**: Check this box if users are required to upload files (e.g., resumes for job applications).
3.  **Redirect to**: Set the URL where the user will be redirected after submitting the form, if needed.
4.  **Submit Button Label**: Customize the text of the submit button (e.g., "Register Now").

#### Step 5: Publish the Web Form

1.  Click **Save**.
2.  After saving, you will see a URL generated for your Web Form. You can share this URL with users or embed it on your website.

## Customizing a Web Form

LENS allows for extensive customization of Web Forms, making them more interactive and aligned with your requirements.

#### 1. Customize Fields

-   Add custom fields not present in the base DocType. For example, you can add a **"How did you hear about us?"** field in a lead form by customizing the form’s fields.
-   Mark fields as **mandatory**, **read-only**, or set **default values** for better control over the data entry process.

#### 2. Add Field Validation

You can add **custom scripts** to validate field inputs. For example, ensure that email addresses are in the correct format or that phone numbers follow specific patterns.

#### Example Client-Side Validation:
```javascript
frappe.web_form.on('validate', function() {
    var email = $('[data-fieldname="email"]').val();
    if (!validateEmail(email)) {
        frappe.msgprint('Please enter a valid email address.');
        return false; // Prevent form submission
    }
});

function validateEmail(email) {
    var re = /\S+@\S+\.\S+/;
    return re.test(email);
}
```
#### 3. Add Conditional Fields

You can show or hide fields based on the value of another field. This can be done by adding a custom script to the Web Form.

#### Example: 
```javascript
frappe.web_form.on('fieldname', function() {
    var value = $('[data-fieldname="fieldname"]').val();
    if (value == "specific_value") {
        $('[data-fieldname="another_field"]').show();
    } else {
        $('[data-fieldname="another_field"]').hide();
    }
});
```

#### 4. Styling the Web Form

You can style the Web Form using **custom HTML and CSS**. There are two primary ways to style Web Forms in LENS:

-   **CSS Classes**: Apply custom classes to form fields or containers using CSS.
-   **HTML Blocks**: Add custom HTML blocks to design form layouts and sections.

For example, you can embed the form in your website and style it using your website’s CSS, or you can add inline CSS in the Web Form itself.
#### 4. Styling the Web Form

You can style the Web Form using **custom HTML and CSS**. There are two primary ways to style Web Forms in LENS:

-   **CSS Classes**: Apply custom classes to form fields or containers using CSS.
-   **HTML Blocks**: Add custom HTML blocks to design form layouts and sections.

For example, you can embed the form in your website and style it using your website’s CSS, or you can add inline CSS in the Web Form itself.

#### 5. Add CAPTCHA for Security

You can enable a CAPTCHA field to prevent spam or automated submissions. This is available under the form's settings.

#### 6. Add Workflow and Email Notifications

You can trigger workflows and email notifications based on form submissions. For example:

-   Trigger a **Lead Workflow** for a new lead submission.
-   Send a **thank-you email** to the user once the form is submitted.
-   Notify internal teams when new entries are received.
#### 5. Add CAPTCHA for Security

You can enable a CAPTCHA field to prevent spam or automated submissions. This is available under the form's settings.

#### 6. Add Workflow and Email Notifications

You can trigger workflows and email notifications based on form submissions. For example:

-   Trigger a **Lead Workflow** for a new lead submission.
-   Send a **thank-you email** to the user once the form is submitted.
-   Notify internal teams when new entries are received.
<!--stackedit_data:
eyJoaXN0b3J5IjpbNTE5NDA4NDk5XX0=
-->