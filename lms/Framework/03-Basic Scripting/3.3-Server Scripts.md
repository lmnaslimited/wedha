#  Server Scripts
  
Server Scripts in LENS allow you to execute Python code on the server side, enabling you to add custom business logic, validations, and automate processes directly in the LENS framework. This is particularly useful when you need to perform operations that are beyond the scope of client-side scripts.
  

### Server Script Types:
  
-   **Event Scripts:**
    
    -   Triggered by specific events in a DocType's lifecycle, such as creating, updating, or deleting records.
    -   Common events include:
        -   `before_insert`
        -   `after_insert`
        -   `before_update`
        -   `after_update`
        -   `before_delete`
        -   `after_delete`

#### Example: Event Script
```python
# Event: Before Insert
from frappe import _

def before_insert(doc, method):
    doc.status = 'Draft'
```
-   **Scheduled Scripts:**
    
    -   Executed at regular intervals using cron jobs.
    -   Useful for tasks like data cleanup, report generation, or periodic notifications.

#### Example: Scheduled Script
```python
from frappe import sendmail
from frappe.utils import get_datetime, get_now

def send_overdue_reminders():
    overdue_tasks = frappe.get_all('Task', filters={'status': 'Open', 'due_date': ['<', get_now()]})
    
    for task in overdue_tasks:
        task_details = frappe.get_doc('Task', task.name)
        sendmail(
            recipients=task_details.assigned_to,
            subject='Overdue Task Reminder',
            message=f'Task "{task_details.title}" is overdue. Please check!'
        )
```

-   **API Scripts:**
    
    -   Handle custom API endpoints for specific functionalities.
    -   Useful for integrating with external systems.
  
  #### Exam
### Create a Server Script:

**Steps:**

 1. Click on the **"+"** near to the Server Script to create a new Server Script.
 2. Fill in the following details:
	  - **Name**: A unique name for your script.
	  - **Script Type**: Select the type (e.g., `Document Event`, `API`, etc.).
	  - **Reference Doctype**: If the script type is `Document Event`, select the DocType to which this script will apply.
	  - **Enabled**: Ensure this is checked to enable the script.
3. In the **Script** field, write your JavaScript code.
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIwMTE5MTI3MSwxMzI0MTUzNjhdfQ==
-->