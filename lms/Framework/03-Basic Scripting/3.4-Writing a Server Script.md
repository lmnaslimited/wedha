# Writing a Server Script

 Server scripts in LENS are Python-based scripts that run on the server to handle complex business logic, data validation, and automation. They are hooked into document events such as `before_save`, `after_submit`, and `before_cancel`, allowing developers to execute custom code at different stages of a document's lifecycle. Server scripts are essential for backend processes that ensure data integrity and automate workflows without user intervention.

``` javascript
import frappe

# Runs before the document is inserted into the database
def before_insert_sales_invoice(doc, method):
    frappe.msgprint("Before inserting Sales Invoice")

# Runs after the document is inserted into the database
def after_insert_sales_invoice(doc, method):
    frappe.msgprint("After inserting Sales Invoice")

# Runs before the document is saved (before any update or create action)
def before_save_sales_invoice(doc, method):
    frappe.msgprint("Before saving Sales Invoice")

# Runs after the document is saved (after any update or create action)
def after_save_sales_invoice(doc, method):
    frappe.msgprint("After saving Sales Invoice")

# Runs before the document is submitted
def before_submit_sales_invoice(doc, method):
    frappe.msgprint("Before submitting Sales Invoice")

# Runs after the document is submitted
def after_submit_sales_invoice(doc, method):
    frappe.msgprint("After submitting Sales Invoice")

# Runs before the document is canceled
def before_cancel_sales_invoice(doc, method):
    frappe.msgprint("Before canceling Sales Invoice")

# Runs after the document is canceled
def after_cancel_sales_invoice(doc, method):
    frappe.msgprint("After canceling Sales Invoice")
```
### **Explanation:**

-   **`before_insert`**: This function is triggered just before the Sales Invoice is inserted into the database. You can perform custom checks or set default values.
    
-   **`after_insert`**: Triggered after the document has been inserted into the database. This is useful for triggering other processes after a record is created.
    
-   **`before_save`**: This event runs before every save operation (whether it's an update or new entry).
    
-   **`after_save`**: This runs after the document is saved, whether it's a new entry or an update.
    
-   **`before_submit`**: Called before a document is submitted. Useful for final validations before submission.
    
-   **`after_submit`**: This runs after a document is submitted. Ideal for triggering actions like email notifications or updating related records.
    
-   **`before_cancel`**: Triggered just before a document is canceled. You can stop cancellation if necessary.
    
-   **`after_cancel`**: Runs after the document is canceled


> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTg1MTMxMzcwNiw5OTQ2Nzg5NTIsLTE0Mj
YxNDQyMjRdfQ==
-->