# Write the Client Script Code

**Use** frappe.ui.form.on:

-   LENS provides the `frappe.ui.form.on` method to attach custom behaviors to events within forms.

**The syntax is**
```javascript
    frappe.ui.form.on('DocType', {
        event_name: function(frm) {
            // Custom script logic here
        }
    });
```
**Example: Add Validation for Negative Values**

-   Letâ€™s say you want to add a validation that ensures the total amount is not negative in a Sales Invoice:
``` javascript
        frappe.ui.form.on('Sales Invoice', {
            validate: function(frm) {
                if (frm.doc.total_amount < 0) {
                    frappe.msgprint(__('Total amount cannot be negative'));
                    frappe.validated = false; // Prevent saving if validation fails
                }
            }
        });
  ```

 

**Example: Dynamically Update Fields**

If you want to auto-fill a field when a customer is selected

``` javascript
frappe.ui.form.on('Sales Invoice', {
    customer: function(frm) {
        if (frm.doc.customer) {
            // Fetch customer details and set values in form fields
            frappe.call({
                method: 'frappe.client.get',
                args: {
                    doctype: 'Customer',
                    name: frm.doc.customer
                },
                callback: function(data) {
                    frm.set_value('customer_name', data.message.customer_name);
                }
            });
        }
    }
});
```




<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE0NzU0NjIzMjcsLTE1NTAyMTA1NjksMT
U4ODQ0NzU5LDczMDk5ODExNl19
-->