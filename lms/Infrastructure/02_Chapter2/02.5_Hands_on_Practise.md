

**Practice 1**:Create a Database, Bench, and Site

**Objective:** Create a Database, Bench, and Site named "lensights.docker.localhost"

## Steps:

### 1. Login to Portainer:
   - Open your web browser and navigate to your Portainer instance.
   - Log in with your credentials.

### 2. Create a New Stack for Database :
   - In the Portainer dashboard, go to **Stacks** in the left-hand menu.
   - Click on **Add Stack**.
   - Name your stack: `lensights-amr-pub-db`.
   - Copy and paste the content of `mariadb.yml` from https://github.com/lmnaslimited/lensdocker/blob/compose-template/compose/mariadb.yml into the Web editor field.
   - In Environment field of stack past the below
	 ```env
	  DB_PASSWORD=admin@123
	  MARIADB_NETWORK=lensights-amr-pub-db
	 ```
   - Click **Deploy the stack**.

###  3. Create a New Stack for bench :
   - Click on Add Stack.
   - Stack Name for bench: `lensights-amr-pub`
    - Copy and paste the content of `erpnext.yml` from https://github.com/lmnaslimited/lensdocker/blob/compose-template/compose/erpnext.yml into the Web editor field.
     - In Environment field of stack past the below
	   ```env
		IMAGE=lensights
		VERSION=v15.2
		BENCH_NAME=lensights-amr-pub
		SITES=lensights.docker.localhost
		MARIADB_NETWORK=lensights-amr-pub-db
	   ```         
   - Check if all the containers are in running state in the stack
       
     **b. Create a New Stack for configure-bench :**
 - Click on **Add Stack**.
 - Stack Name for configure-bench: `configure-bench`
 - Copy and paste the content of `configure-erpnext.yml` from https://github.com/lmnaslimited/lensdocker/blob/compose-template/compose/configure-erpnext.yml into the Web editor field.
  - In Environment field of stack past the below
       ```env
       IMAGE=lensights
       VERSION=v15.2
       BENCH_NAME=lensights-amr-pub
       DATABASE_HOST=lensights-amr-pub-db
      ```
         
   - Check if all the containers are in complete state in the stack
       
 **C. Create a New Stack for create-site :**
  - Click on **Add Stack**.
   - Stack Name for create-site: `create-site`
   - Copy and paste the content of `create-site.yml` from https://github.com/lmnaslimited/lensdocker/blob/compose-template/compose/create-site.yml into the Web editor field.deployment:
    - In Environment field of stack past the below
         ```env
        IMAGE=lensights
        VERSION=v15.2
        DB_PASSWORD=admin@123
        ADMIN_PASSWORD=admin@123
        SITE_NAME=lensights.docker.localhost
        BENCH_NAME=lensights-amr-pub
        MARIADB_NETWORK=lensights-amr-pub-db
       ```
        
   - Check if all the containers are in complete state in the stack


**Expected Outcome:**
- A new site named **`lensights.docker.localhost`** will be successfully created and accessible via the specified URL in the browser.
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTA0NjUyMDI5MCwyMDg1NTA5NjUsOTI2Nj
Q1NTQsLTkxNjg3ODU4LC0yMDg4NzQ2NjEyLC0xMjk0ODUzOTIy
LDIwMzUwMDk1MjAsNDk3ODE4ODEwXX0=
-->
