### Hands-On Practice: Using Portainer with Docker Compose

  

In this hands-on practice, you'll use Portainer to manage a Docker Compose application. Follow these steps to set up and manage a simple multi-container application using Portainer.

  

#### **1. Prepare Your Environment**

  

Ensure Docker, Docker Compose, and Portainer are installed and running on your system.

  

#### **2. Create a `docker-compose.yml` File**

  

First, create a `docker-compose.yml` file with the following content. This example defines a basic Nginx and MySQL setup:

  

```yaml

version: '3.8'

  

services:

web:

image: nginx:alpine

ports:

- "8080:80"

volumes:

- ./html:/usr/share/nginx/html

db:

image: mysql:5.7

environment:

MYSQL_ROOT_PASSWORD: example

volumes:

- db_data:/var/lib/mysql

  

volumes:

db_data:

```

  

Save this file in a directory, for example, `/home/user/myapp`.

  

#### **3. Deploy the Docker Compose Stack Using Portainer**

  

1. **Open Portainer:**

- Navigate to your Portainer UI at `http://localhost:9000` or the IP address where Portainer is running.

- Log in with your admin credentials.

  

2. **Navigate to the Docker Compose Section:**

- Go to the “Stacks” section in Portainer.

  

3. **Create a New Stack:**

- Click on “Add stack.”

- Enter a name for the stack, e.g., `myapp-stack`.

- In the "Web editor" section, paste the contents of your `docker-compose.yml` file or use the “Upload file” option to upload your `docker-compose.yml`.

  

4. **Deploy the Stack:**

- Click “Deploy the stack” to start the application.

  

#### **4. Manage Your Stack**

  

1. **View the Stack:**

- Go to the “Stacks” section and click on the stack you just created.

- You’ll see an overview of the services (`web` and `db`), their status, and logs.

  

2. **Scale Services:**

- To scale the `web` service, go to the stack and click “Edit”.

- Update the `docker-compose.yml` to scale the `web` service by modifying the `docker-compose.yml` and redeploy the stack.

  

3. **View Logs:**

- Navigate to the stack’s “Logs” tab to view the combined logs of all services.

- Use the “Follow” option to view logs in real-time.

  

4. **Stop and Remove the Stack:**

- To stop and remove the stack, go back to the “Stacks” section.

- Click on the stack you want to remove, then click “Remove” to stop and delete all containers, networks, and volumes associated with it.

  

#### **5. Explore Portainer Features**

  

- **Monitor Containers:** Check the “Containers” section to see running containers, their resource usage, and performance metrics.

- **Manage Volumes:** Go to the “Volumes” section to view and manage the volumes created by your stack.

  

This exercise demonstrates how Portainer can be used to manage Docker Compose applications, simplifying deployment and management through a graphical interface.
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTkxNjg3ODU4LC0yMDg4NzQ2NjEyLC0xMj
k0ODUzOTIyLDIwMzUwMDk1MjAsNDk3ODE4ODEwXX0=
-->