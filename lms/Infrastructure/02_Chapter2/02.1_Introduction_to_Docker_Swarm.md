# What is Docker Swarm?

Docker Swarm is a native clustering and orchestration tool for Docker. It allows you to manage a group of Docker engines as a single entity, referred to as a swarm. Docker Swarm is scalable and provides a simple yet powerful solution for managing and deploying containerized applications across multiple nodes.

## Key Concepts:
- **Node**: A machine participating in the swarm (either manager or worker).
- **Manager Node**: Orchestrates the cluster and handles tasks like scheduling and managing swarm services.
- **Worker Node**: Executes the tasks assigned by the manager node.
- **Service**: An abstraction on top of containers, allowing you to define tasks for the swarm.
- **Task**: A single instance of a container running a part of the service.

## Benefits of Using Docker Swarm

1. **Simple Setup and Management**: Docker Swarm offers an easy-to-configure clustering mechanism, making it straightforward to deploy and manage a swarm of Docker nodes. It simplifies the process of scaling applications across multiple nodes.

2. **High Availability and Fault Tolerance**: Docker Swarm provides fault tolerance by automatically redistributing workloads when a node fails. With multiple manager nodes, the swarm can recover from failures while maintaining service availability.

3. **Scalability**: Docker Swarm allows seamless scaling of services. Applications can be scaled up or down based on demand by simply adjusting the number of replicas, without interrupting running services.

4. **Service Discovery and Load Balancing**: Built-in service discovery allows containers to find and communicate with each other without manual configuration. Additionally, Docker Swarm provides load balancing across containers, ensuring efficient resource utilization.

5. **Rolling Updates and Rollbacks**: Swarm supports rolling updates, enabling you to update services without downtime. In case of an issue, it’s easy to roll back to the previous version of the application, ensuring minimal disruption.

6. **Integrated with Docker Ecosystem**: Since Docker Swarm is natively integrated into Docker, you don’t need to install additional software. It leverages Docker’s existing tools and workflows, making it a natural choice for teams already using Docker.

7. **Security Features**: Swarm mode provides built-in security with mutual TLS (Transport Layer Security) encryption between nodes, ensuring secure communication and preventing unauthorized access.

8. **Cost Efficiency**: Swarm enables optimal use of resources by distributing workloads across nodes, ensuring that no single machine is overburdened. This leads to cost savings, especially when deployed on cloud infrastructures.

9. **Declarative Configuration**: Docker Swarm allows defining the desired state of services through a declarative model. It ensures that the actual state of the swarm matches the defined state, helping maintain consistency.

These benefits make Docker Swarm an attractive option for teams looking to manage containerized applications in a distributed environment while leveraging Docker’s native ecosystem.

# Commands for Docker Swarm

### 1. **Initialize Docker Swarm**:
   ```bash
   docker swarm init --advertise-addr <MANAGER-IP>
   ```
   - Initializes a new Docker Swarm cluster with the machine as the manager node.

### 2. **Join Docker Swarm** (Worker Node):
   ```bash
   docker swarm join --token <SWARM-TOKEN> <MANAGER-IP>:2377
   ```
   - Adds a worker node to the swarm using the provided token.

### 3. **List Nodes in Swarm**:
   ```bash
   docker node ls
   ```
   - Displays all nodes in the Docker Swarm.

### 4. **Update Node Labels**:
   ```bash
   docker node update --label-add <KEY>=<VALUE> <NODE-ID>
   ```
   - Adds a label to a node, which can later be used for tasks like assigning services to specific nodes.

### 5. **Deploy Stack to Swarm**:
   ```bash
   docker stack deploy -c <COMPOSE-FILE.yml> <STACK-NAME>
   ```
   - Deploys an application using a Docker Compose file to the Swarm.

# Working with Nodes in Docker Swarm

- **Manager Nodes**: Handle the cluster management and run management commands.
- **Worker Nodes**: Execute tasks assigned by managers. They are generally dedicated to running workloads.

## Commands for Node Management:
### 1. **Promote a Worker to Manager**:
   ```bash
   docker node promote <NODE-ID>
   ```
   
### 2. **Demote a Manager to Worker**:
   ```bash
   docker node demote <NODE-ID>
   ```

<!--stackedit_data:
eyJoaXN0b3J5IjpbMTAxMTg2MTc2NCwxMjgwMTY5MTg4LC0xMT
c1MDQ4NDE4XX0=
-->