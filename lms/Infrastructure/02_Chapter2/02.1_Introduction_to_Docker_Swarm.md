# what is Docker Swarm?

Docker Swarm is a native clustering and orchestration tool for Docker. It allows you to manage a group of Docker engines as a single entity, referred to as a swarm. Docker Swarm is scalable and provides a simple yet powerful solution for managing and deploying containerized applications across multiple nodes.

## Key Concepts:
- **Node**: A machine participating in the swarm (either manager or worker).
- **Manager Node**: Orchestrates the cluster and handles tasks like scheduling and managing swarm services.
- **Worker Node**: Executes the tasks assigned by the manager node.
- **Service**: An abstraction on top of containers, allowing you to define tasks for the swarm.
- **Task**: A single instance of a container running a part of the service.

# Commands for Docker Swarm

1. **Initialize Docker Swarm**:
   ```bash
   docker swarm init --advertise-addr <MANAGER-IP>
   ```
   - Initializes a new Docker Swarm cluster with the machine as the manager node.

2. **Join Docker Swarm** (Worker Node):
   ```bash
   docker swarm join --token <SWARM-TOKEN> <MANAGER-IP>:2377
   ```
   - Adds a worker node to the swarm using the provided token.

3. **List Nodes in Swarm**:
   ```bash
   docker node ls
   ```
   - Displays all nodes in the Docker Swarm.

4. **Update Node Labels**:
   ```bash
   docker node update --label-add <KEY>=<VALUE> <NODE-ID>
   ```
   - Adds a label to a node, which can later be used for tasks like assigning services to specific nodes.

5. **Deploy Stack to Swarm**:
   ```bash
   docker stack deploy -c <COMPOSE-FILE.yml> <STACK-NAME>
   ```
   - Deploys an application using a Docker Compose file to the Swarm.

# Working with Nodes in Docker Swarm

- **Manager Nodes**: Handle the cluster management and run management commands.
- **Worker Nodes**: Execute tasks assigned by managers. They are generally dedicated to running workloads.

**Commands for Node Management**:
1. **Promote a Worker to Manager**:
   ```bash
   docker node promote <NODE-ID>
   ```
   
2. **Demote a Manager to Worker**:
   ```bash
   docker node demote <NODE-ID>
   ```

<!--stackedit_data:
eyJoaXN0b3J5IjpbMjAxOTYwMDQ0M119
-->